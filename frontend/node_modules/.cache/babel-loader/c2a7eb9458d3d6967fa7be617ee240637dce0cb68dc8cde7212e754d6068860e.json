{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Container,Card,CardBody}from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import img1 from'../assets/img/img1.jpg';import img2 from'../assets/img/img2.jpg';import img3 from'../assets/img/img3.jpg';import img4 from'../assets/img/img4.jpg';import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export default function MainSlider(){const images=[img1,img2,img4];const items=[// <Card style={{ width: \"300px\", height: \"300px\", borderRadius: \"50%\", boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\" }}\n//                     className=\"mb-3 p-5 \">\n//                     <CardBody className=\"text-center fs-4 d-flex justify-content-center align-items-center\">Elemento 1</CardBody>\n//                 </Card>\n];images.map((img,index)=>{items.push(/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"img-\".concat(index+1),style:{maxWidth:\"100%\"}})},index));});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{margin:\"100px 0 150px 0\"},children:/*#__PURE__*/_jsx(InfiniteFlowSlider,{items:items})})});}function InfiniteFlowSlider(_ref){let{items}=_ref;const[slides]=useState([...items,...items,...items,...items]);const trackRef=useRef(null);// estado para UI\nconst[paused,setPaused]=useState(false);// referencia para animaciÃ³n\nconst pausedRef=useRef(paused);useEffect(()=>{pausedRef.current=paused;// sincronizamos el ref con el estado\n},[paused]);useEffect(()=>{const track=trackRef.current;let animationFrame;let offset=0;const speed=1;const animate=()=>{if(!pausedRef.current){offset-=speed;track.style.transform=\"translateX(\".concat(offset,\"px)\");const firstSlide=track.children[0];if(firstSlide&&-offset>=firstSlide.offsetWidth){track.appendChild(firstSlide);offset+=firstSlide.offsetWidth;}}animationFrame=requestAnimationFrame(animate);};animationFrame=requestAnimationFrame(animate);return()=>cancelAnimationFrame(animationFrame);},[]);// ðŸ‘ˆ sin dependencia de paused\nreturn/*#__PURE__*/_jsx(Container,{fluid:true,className:\" py-4 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"slider\",style:{overflow:\"hidden\",width:\"100%\"},onMouseEnter:()=>setPaused(true),onMouseLeave:()=>setPaused(false),children:/*#__PURE__*/_jsx(\"div\",{ref:trackRef,style:{display:\"flex\",willChange:\"transform\"},children:slides.map((node,i)=>/*#__PURE__*/_jsx(\"div\",{style:{flex:\"0 0 40%\",padding:\"0.5rem\",boxSizing:\"border-box\"},children:node},i))})})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","Container","Card","CardBody","img1","img2","img3","img4","jsx","_jsx","Fragment","_Fragment","MainSlider","images","items","map","img","index","push","children","src","alt","concat","style","maxWidth","margin","InfiniteFlowSlider","_ref","slides","trackRef","paused","setPaused","pausedRef","current","track","animationFrame","offset","speed","animate","transform","firstSlide","offsetWidth","appendChild","requestAnimationFrame","cancelAnimationFrame","fluid","className","overflow","width","onMouseEnter","onMouseLeave","ref","display","willChange","node","i","flex","padding","boxSizing"],"sources":["C:/Users/faoa1/OneDrive/Escritorio/Sobis/frontend/src/sections/MainSlider.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Container, Card, CardBody } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport img1 from '../assets/img/img1.jpg';\r\nimport img2 from '../assets/img/img2.jpg';\r\nimport img3 from '../assets/img/img3.jpg';\r\nimport img4 from '../assets/img/img4.jpg';\r\n\r\nexport default function MainSlider() {\r\n  const images = [img1, img2, img4];\r\n  const items = [    \r\n    // <Card style={{ width: \"300px\", height: \"300px\", borderRadius: \"50%\", boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\" }}\r\n    //                     className=\"mb-3 p-5 \">\r\n    //                     <CardBody className=\"text-center fs-4 d-flex justify-content-center align-items-center\">Elemento 1</CardBody>\r\n    //                 </Card>\r\n  ];\r\n  images.map((img, index) => {\r\n    items.push(\r\n      <figure key={index}>\r\n        <img src={img} alt={`img-${index + 1}`} style={{ maxWidth: \"100%\"}} />\r\n      </figure>\r\n    );\r\n  });\r\n\r\n  return <>\r\n    <div style={{ margin: \"100px 0 150px 0\"}}>\r\n      <InfiniteFlowSlider items={items} />\r\n    </div>\r\n  </>;\r\n}\r\n\r\nfunction InfiniteFlowSlider({ items }) {\r\n  const [slides] = useState([...items, ...items, ...items, ...items]);\r\n  const trackRef = useRef(null);\r\n\r\n  // estado para UI\r\n  const [paused, setPaused] = useState(false);\r\n  // referencia para animaciÃ³n\r\n  const pausedRef = useRef(paused);\r\n\r\n  useEffect(() => {\r\n    pausedRef.current = paused; // sincronizamos el ref con el estado\r\n  }, [paused]);\r\n\r\n  useEffect(() => {\r\n    const track = trackRef.current;\r\n    let animationFrame;\r\n    let offset = 0;\r\n    const speed = 1;\r\n\r\n    const animate = () => {\r\n      if (!pausedRef.current) {\r\n        offset -= speed;\r\n        track.style.transform = `translateX(${offset}px)`;\r\n\r\n        const firstSlide = track.children[0];\r\n        if (firstSlide && -offset >= firstSlide.offsetWidth) {\r\n          track.appendChild(firstSlide);\r\n          offset += firstSlide.offsetWidth;\r\n        }\r\n      }\r\n      animationFrame = requestAnimationFrame(animate);\r\n    };\r\n\r\n    animationFrame = requestAnimationFrame(animate);\r\n    return () => cancelAnimationFrame(animationFrame);\r\n  }, []); // ðŸ‘ˆ sin dependencia de paused\r\n\r\n  return (\r\n    <Container fluid className=\" py-4 overflow-hidden\">\r\n      <div\r\n        className=\"slider\"\r\n        style={{ overflow: \"hidden\", width: \"100%\" }}\r\n        onMouseEnter={() => setPaused(true)}\r\n        onMouseLeave={() => setPaused(false)}\r\n      >\r\n        <div\r\n          ref={trackRef}\r\n          style={{ display: \"flex\", willChange: \"transform\" }}\r\n        >\r\n          {slides.map((node, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                flex: \"0 0 40%\",\r\n                padding: \"0.5rem\",\r\n                boxSizing: \"border-box\",\r\n              }}\r\n            >\r\n              {node}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}