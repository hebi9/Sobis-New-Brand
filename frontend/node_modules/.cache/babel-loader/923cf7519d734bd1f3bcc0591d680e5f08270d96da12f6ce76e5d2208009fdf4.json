{"ast":null,"code":"import _objectSpread from\"C:/Users/faoa1/OneDrive/Escritorio/Sobis/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FinanceForm=_ref=>{let{modal,toggle,formData,setFormData,categories,paymentMethods,handleSubmit}=_ref;const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};// Submit con JWT\nconst handleJwtSubmit=async e=>{e.preventDefault();const token=localStorage.getItem(\"token\");try{await axios.post(\"http://127.0.0.1:8000/api/finances/\",formData,{headers:{Authorization:\"Bearer \".concat(token)}});toggle();}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(Modal,{show:modal,onHide:toggle,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Agregar Finanzas\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit?handleSubmit:handleJwtSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Monto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"amount\",value:formData.amount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"category\",value:formData.category,onChange:handleChange,list:\"categoriesList\",required:true}),/*#__PURE__*/_jsx(\"datalist\",{id:\"categoriesList\",children:categories.map((cat,index)=>/*#__PURE__*/_jsx(\"option\",{value:cat.name},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"M\\xE9todo de Pago\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"payment_method\",value:formData.payment_method,onChange:handleChange,list:\"paymentMethodsList\",required:true}),/*#__PURE__*/_jsx(\"datalist\",{id:\"paymentMethodsList\",children:paymentMethods.map((method,index)=>/*#__PURE__*/_jsx(\"option\",{value:method.name},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tipo\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"type\",value:formData.type,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Expense\",children:\"Gasto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Income\",children:\"Ingreso\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"create\",value:formData.create,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nota\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"note\",value:formData.note,onChange:handleChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Guardar\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:toggle,children:\"Cancelar\"})]})]})})]});};export default FinanceForm;","map":{"version":3,"names":["React","Button","Modal","axios","jsx","_jsx","jsxs","_jsxs","FinanceForm","_ref","modal","toggle","formData","setFormData","categories","paymentMethods","handleSubmit","handleChange","e","_objectSpread","target","name","value","handleJwtSubmit","preventDefault","token","localStorage","getItem","post","headers","Authorization","concat","err","console","error","show","onHide","centered","children","Header","closeButton","Title","Body","onSubmit","className","type","amount","onChange","required","category","list","id","map","cat","index","payment_method","method","create","note","rows","Footer","variant","onClick"],"sources":["C:/Users/faoa1/OneDrive/Escritorio/Sobis/frontend/src/components/FinanceForm.jsx"],"sourcesContent":["import React from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport axios from \"axios\";\r\n\r\nconst FinanceForm = ({ modal, toggle, formData, setFormData, categories, paymentMethods, handleSubmit }) => {\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    // Submit con JWT\r\n    const handleJwtSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const token = localStorage.getItem(\"token\");\r\n        try {\r\n            await axios.post(\"http://127.0.0.1:8000/api/finances/\", formData, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            toggle();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal show={modal} onHide={toggle} centered>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Agregar Finanzas</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <form onSubmit={handleSubmit ? handleSubmit : handleJwtSubmit}>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Monto</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            name=\"amount\"\r\n                            value={formData.amount}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Categoría</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"category\"\r\n                            value={formData.category}\r\n                            onChange={handleChange}\r\n                            list=\"categoriesList\"\r\n                            required\r\n                        />\r\n                        <datalist id=\"categoriesList\">\r\n                            {categories.map((cat, index) => (\r\n                                <option key={index} value={cat.name} />\r\n                            ))}\r\n                        </datalist>\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Método de Pago</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"payment_method\"\r\n                            value={formData.payment_method}\r\n                            onChange={handleChange}\r\n                            list=\"paymentMethodsList\"\r\n                            required\r\n                        />\r\n                        <datalist id=\"paymentMethodsList\">\r\n                            {paymentMethods.map((method, index) => (\r\n                                <option key={index} value={method.name} />\r\n                            ))}\r\n                        </datalist>\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Tipo</label>\r\n                        <select\r\n                            className=\"form-control\"\r\n                            name=\"type\"\r\n                            value={formData.type}\r\n                            onChange={handleChange}\r\n                            required\r\n                        >\r\n                            <option value=\"Expense\">Gasto</option>\r\n                            <option value=\"Income\">Ingreso</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Fecha</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"form-control\"\r\n                            name=\"create\"\r\n                            value={formData.create}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Nota</label>\r\n                        <textarea\r\n                            className=\"form-control\"\r\n                            name=\"note\"\r\n                            value={formData.note}\r\n                            onChange={handleChange}\r\n                            rows=\"3\"\r\n                        ></textarea>\r\n                    </div>\r\n\r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" type=\"submit\">Guardar</Button>\r\n                        <Button variant=\"secondary\" onClick={toggle}>Cancelar</Button>\r\n                    </Modal.Footer>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default FinanceForm;"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAwF,IAAvF,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,UAAU,CAAEC,cAAc,CAAEC,YAAa,CAAC,CAAAP,IAAA,CACnG,KAAM,CAAAQ,YAAY,CAAIC,CAAC,EAAK,CACxBL,WAAW,CAAAM,aAAA,CAAAA,aAAA,IACJP,QAAQ,MACX,CAACM,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAClC,CAAC,CACN,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAG,KAAO,CAAAL,CAAC,EAAK,CACjCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CACA,KAAM,CAAAxB,KAAK,CAACyB,IAAI,CAAC,qCAAqC,CAAEhB,QAAQ,CAAE,CAC9DiB,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYN,KAAK,CAAG,CAChD,CAAC,CAAC,CACFd,MAAM,CAAC,CAAC,CACZ,CAAE,MAAOqB,GAAG,CAAE,CACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACtB,CACJ,CAAC,CAED,mBACIzB,KAAA,CAACL,KAAK,EAACiC,IAAI,CAAEzB,KAAM,CAAC0B,MAAM,CAAEzB,MAAO,CAAC0B,QAAQ,MAAAC,QAAA,eACxCjC,IAAA,CAACH,KAAK,CAACqC,MAAM,EAACC,WAAW,MAAAF,QAAA,cACrBjC,IAAA,CAACH,KAAK,CAACuC,KAAK,EAAAH,QAAA,CAAC,kBAAgB,CAAa,CAAC,CACjC,CAAC,cACfjC,IAAA,CAACH,KAAK,CAACwC,IAAI,EAAAJ,QAAA,cACP/B,KAAA,SAAMoC,QAAQ,CAAE3B,YAAY,CAAGA,YAAY,CAAGO,eAAgB,CAAAe,QAAA,eAC1D/B,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,OAAK,CAAO,CAAC,cAC3CjC,IAAA,UACIwC,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEV,QAAQ,CAACkC,MAAO,CACvBC,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MACX,CAAC,EACD,CAAC,cAENzC,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,cAAS,CAAO,CAAC,cAC/CjC,IAAA,UACIwC,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEV,QAAQ,CAACqC,QAAS,CACzBF,QAAQ,CAAE9B,YAAa,CACvBiC,IAAI,CAAC,gBAAgB,CACrBF,QAAQ,MACX,CAAC,cACF3C,IAAA,aAAU8C,EAAE,CAAC,gBAAgB,CAAAb,QAAA,CACxBxB,UAAU,CAACsC,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvBjD,IAAA,WAAoBiB,KAAK,CAAE+B,GAAG,CAAChC,IAAK,EAAvBiC,KAAyB,CACzC,CAAC,CACI,CAAC,EACV,CAAC,cAEN/C,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,mBAAc,CAAO,CAAC,cACpDjC,IAAA,UACIwC,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,gBAAgB,CACrBC,KAAK,CAAEV,QAAQ,CAAC2C,cAAe,CAC/BR,QAAQ,CAAE9B,YAAa,CACvBiC,IAAI,CAAC,oBAAoB,CACzBF,QAAQ,MACX,CAAC,cACF3C,IAAA,aAAU8C,EAAE,CAAC,oBAAoB,CAAAb,QAAA,CAC5BvB,cAAc,CAACqC,GAAG,CAAC,CAACI,MAAM,CAAEF,KAAK,gBAC9BjD,IAAA,WAAoBiB,KAAK,CAAEkC,MAAM,CAACnC,IAAK,EAA1BiC,KAA4B,CAC5C,CAAC,CACI,CAAC,EACV,CAAC,cAEN/C,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,MAAI,CAAO,CAAC,cAC1C/B,KAAA,WACIqC,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEV,QAAQ,CAACiC,IAAK,CACrBE,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MAAAV,QAAA,eAERjC,IAAA,WAAQiB,KAAK,CAAC,SAAS,CAAAgB,QAAA,CAAC,OAAK,CAAQ,CAAC,cACtCjC,IAAA,WAAQiB,KAAK,CAAC,QAAQ,CAAAgB,QAAA,CAAC,SAAO,CAAQ,CAAC,EACnC,CAAC,EACR,CAAC,cAEN/B,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,OAAK,CAAO,CAAC,cAC3CjC,IAAA,UACIwC,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEV,QAAQ,CAAC6C,MAAO,CACvBV,QAAQ,CAAE9B,YAAa,CACvB+B,QAAQ,MACX,CAAC,EACD,CAAC,cAENzC,KAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAN,QAAA,eACjBjC,IAAA,UAAOuC,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,MAAI,CAAO,CAAC,cAC1CjC,IAAA,aACIuC,SAAS,CAAC,cAAc,CACxBvB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEV,QAAQ,CAAC8C,IAAK,CACrBX,QAAQ,CAAE9B,YAAa,CACvB0C,IAAI,CAAC,GAAG,CACD,CAAC,EACX,CAAC,cAENpD,KAAA,CAACL,KAAK,CAAC0D,MAAM,EAAAtB,QAAA,eACTjC,IAAA,CAACJ,MAAM,EAAC4D,OAAO,CAAC,SAAS,CAAChB,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxDjC,IAAA,CAACJ,MAAM,EAAC4D,OAAO,CAAC,WAAW,CAACC,OAAO,CAAEnD,MAAO,CAAA2B,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpD,CAAC,EACb,CAAC,CACC,CAAC,EACV,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA9B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}